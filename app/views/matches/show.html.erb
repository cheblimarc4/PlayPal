<div class="matches-div">
  <div class="container" style="">
    <div id="banner">
      <div id="match-background-image" class="mt-3" style="display:block;height:300px;margin:0 auto; background-image:url('https://th.bing.com/th/id/OIP.yhK-6bpXiqM-55UB-mHy4AAAAA?rs=1&pid=ImgDetMain')"></div>
    </div>
    <div style="height:10rem" class="d-flex  mt-3 flex-column align-items-center">
      <div class="border d-flex align-items-center justify-content-between p-5 rounded-5" style="width:50%">
        <div class="d-flex">
          <% if @match.sport.name === "football" %>
              <i class="fa-solid fa-futbol fs-2"></i>
            <% elsif @match.sport.name === "volleyball" %>
              <i class="fa-solid fa-volleyball fs-2"></i></span>
            <% elsif @match.sport.name === "baseball" %>
              <i class="fa-solid fa-baseball-bat-ball fs-2"></i>
            <% elsif @match.sport.name === "padel" %>
              <i class="fa-solid fa-table-tennis-paddle-ball fs-2"></i>
            <% elsif @match.sport.name === "squash" %>
                <i class="fa-solid fa-table-tennis-paddle-ball fs-2"></i>
            <% elsif @match.sport.name === "basketball" %>
                <i class="fa-solid fa-basketball"></i>
            <%end%>
            <h2 class="highlight-text mx-3"><%= @match.sport.name.capitalize %></h2>
        </div>
        <div class="d-flex flex-column align-items-center">
          <span class="fs-5 fst-italic"><%= @match.match_date %></span>
          <span class="fs-5 fst-italic">Match time goes here</span>
        </div>
      </div>
      <div class="border p-5 rounded-5 mt-4 text-center" style="width:50%">
            <h3 class="text-center">Level: <span class="highlight-text"><%= @match.level %></span></h3>
            <h3 class="text-center">Type: <span class="highlight-text"><%= @match.game_type %></span></h3>
      </div>
      <div class="border d-flex mt-3 justify-content-between p-3" style="height:100px;width:50%;">
        <% accepted_players = []%>
        <% @match.UserMatches.each { |user| accepted_players.push(user.user) if user.status === "accepted" && @match.need > accepted_players.length } %>
        <%accepted_players.each do |player|%>
          <span><%=player.first_name %></span>
        <%end%>
        <% (@match.need-accepted_players.length).times do%>
          <span>Empty spot </span>
        <% end %>
      </div>
      <div class="border d-flex justify-content-center align-items-center" style="margin-top:20px;width:50%">
        <%= link_to @already_requested ? "You already requested to join" : "Join match", match_user_matches_path(@match), class:"join-btn text-center mx-5", style:"text-decoration:none;width:100%", data:{turbo_method:"post"}%>
      </div>
    </div>
  </div>

</div>
